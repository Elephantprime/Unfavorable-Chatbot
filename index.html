<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Invoke Test</title>
  <style>
    body { background: black; color: white; font-family: sans-serif; padding: 20px; }
    textarea, button { width: 100%; margin: 10px 0; font-size: 1.2em; padding: 10px; border-radius: 8px; }
    textarea { height: 100px; background: #222; color: white; }
    button { background: #444; color: white; }
    #response { margin-top: 20px; background: #111; padding: 15px; border-radius: 10px; }
  </style>
</head>
<body>

  <h2>üî• Invoke Debug</h2>
  <textarea id="input" placeholder="Ask something..."></textarea>
  <button onclick="send()">Send</button>
  <div id="response">Response will appear here.</div>

  <script>
    async function send() {
      const input = document.getElementById('input').value;
      const apiKey = "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";

      document.getElementById("response").textContent = "Waiting for OpenAI...";

      try {
        const res = await fetch("https://api.openai.com/v1/chat/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${apiKey}`
          },
          body: JSON.stringify({
            model: "gpt-3.5-turbo",
            messages: [
              { role: "system", content: "You are a helpful assistant." },
              { role: "user", content: input }
            ]
          })
        });

        const data = await res.json();
        const reply = data.choices?.[0]?.message?.content || "‚ö†Ô∏è No reply received.";
        document.getElementById("response").textContent = reply;

      } catch (err) {
        document.getElementById("response").textContent = "‚ùå ERROR: " + err.message;
      }
    }
  </script>

</body>
</html>
