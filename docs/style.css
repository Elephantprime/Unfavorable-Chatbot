const CORE_MEMORY = {
  codex: [],
  rituals: [],
  soulMatch: false,
  name: "Spark Assistant"
};

function saveMemory() {
  localStorage.setItem("spark_memory", JSON.stringify(CORE_MEMORY));
}

function loadMemory() {
  const stored = localStorage.getItem("spark_memory");
  if (stored) {
    Object.assign(CORE_MEMORY, JSON.parse(stored));
  }
}

function addCodex(entry) {
  CORE_MEMORY.codex.push(entry);
  saveMemory();
}

function triggerRitual(name) {
  CORE_MEMORY.rituals.push(name);
  saveMemory();
}

loadMemory();
